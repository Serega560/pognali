{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { NameSpace } from '../const';\nimport { addDays } from 'date-fns';\nconst initialState = {\n  companions: 1,\n  duration: 2,\n  dateState: [{\n    startDate: new Date(),\n    endDate: addDays(new Date(), 1),\n    key: 'selection'\n  }],\n  choosenLetter: 'А',\n  choosenContinent: 'Европа',\n  // Инициализирует выбранный континент\n  isSelectCountryInputActive: false,\n  choosenCountries: [],\n  currentPage: 1,\n  dataToPost: {\n    startDate: '',\n    endDate: '',\n    companions: 0,\n    text: '',\n    transport_choice: [],\n    name: '',\n    hashtags: [],\n    countries: []\n  }\n};\nexport const slice = {\n  app: NameSpace.appSlice\n};\nexport const appSlice = createSlice({\n  name: slice.app,\n  initialState,\n  reducers: {\n    setCompanions: (state, action) => {\n      state.companions = action.payload;\n    },\n    setDuration: (state, action) => {\n      state.duration = action.payload;\n    },\n    setDateState: (state, action) => {\n      state.dateState = action.payload;\n    },\n    setLetter: (state, action) => {\n      state.choosenLetter = action.payload;\n    },\n    setContinent: (state, action) => {\n      // Добавляет редуктор для установки выбранного континента\n      state.choosenContinent = action.payload;\n    },\n    setIsSelectCountryInputActive: state => {\n      state.isSelectCountryInputActive = !state.isSelectCountryInputActive;\n    },\n    addChoosenCountries: (state, action) => {\n      state.choosenCountries = [...state.choosenCountries, action.payload];\n    },\n    changeChoosenCountry: (state, action) => {\n      const index = state.choosenCountries.findIndex(country => country.name === action.payload.currentCountry.name);\n      state.choosenCountries[index] = action.payload.newCountry;\n    },\n    removeChoosenCountry: (state, action) => {\n      state.choosenCountries = state.choosenCountries.filter(country => country.name !== action.payload.name);\n    },\n    setCurrentPage: (state, action) => {\n      state.currentPage = action.payload;\n    },\n    setDataToPostCompanions: (state, action) => {\n      state.dataToPost.companions = action.payload;\n    },\n    setDataToPostStartDate: (state, action) => {\n      state.dataToPost.startDate = action.payload;\n    },\n    setDataToPostEndDate: (state, action) => {\n      state.dataToPost.endDate = action.payload;\n    },\n    setDataToPostText: (state, action) => {\n      state.dataToPost.text = state.dataToPost.text.concat(action.payload);\n    },\n    setDataToPostTransport: (state, action) => {\n      if (state.dataToPost.transport_choice.includes(action.payload)) {\n        state.dataToPost.transport_choice = state.dataToPost.transport_choice.filter(transport => transport !== action.payload);\n      } else {\n        state.dataToPost.transport_choice = [...state.dataToPost.transport_choice, action.payload];\n      }\n    },\n    setDataToPostHashTags: (state, action) => {\n      state.dataToPost.hashtags = action.payload.split(' ');\n    },\n    setDataToPostCountries: state => {\n      state.dataToPost.countries = state.choosenCountries.map(country => country.name);\n    }\n  }\n});\nexport const {\n  setCompanions,\n  setDateState,\n  setDuration,\n  setLetter,\n  setContinent,\n  setIsSelectCountryInputActive,\n  addChoosenCountries,\n  changeChoosenCountry,\n  removeChoosenCountry,\n  setCurrentPage,\n  setDataToPostCompanions,\n  setDataToPostCountries,\n  setDataToPostText,\n  setDataToPostHashTags,\n  setDataToPostTransport\n} = appSlice.actions;","map":{"version":3,"names":["createSlice","NameSpace","addDays","initialState","companions","duration","dateState","startDate","Date","endDate","key","choosenLetter","choosenContinent","isSelectCountryInputActive","choosenCountries","currentPage","dataToPost","text","transport_choice","name","hashtags","countries","slice","app","appSlice","reducers","setCompanions","state","action","payload","setDuration","setDateState","setLetter","setContinent","setIsSelectCountryInputActive","addChoosenCountries","changeChoosenCountry","index","findIndex","country","currentCountry","newCountry","removeChoosenCountry","filter","setCurrentPage","setDataToPostCompanions","setDataToPostStartDate","setDataToPostEndDate","setDataToPostText","concat","setDataToPostTransport","includes","transport","setDataToPostHashTags","split","setDataToPostCountries","map","actions"],"sources":["C:/Стажировка/intern-pognali-2-6/my-app/src/store/app-slice.ts"],"sourcesContent":["import { PayloadAction, createSlice } from '@reduxjs/toolkit';\r\nimport { NameSpace } from '../const';\r\nimport { CountriesToChange, Country, DataToPost } from '../types';\r\nimport { addDays } from 'date-fns';\r\n\r\nexport type DateState = {\r\n  startDate: Date;\r\n  endDate: Date;\r\n  key: string;\r\n};\r\n\r\nexport type AppSlice = {\r\n companions: number;\r\n duration: number;\r\n dateState: DateState[];\r\n choosenLetter: string;\r\n choosenContinent: string; // Добавляет состояние для выбранного континента\r\n isSelectCountryInputActive: boolean;\r\n choosenCountries: Country[];\r\n currentPage: number;\r\n dataToPost: DataToPost;\r\n}\r\n\r\nconst initialState: AppSlice = {\r\n    companions: 1,\r\n    duration: 2,\r\n    dateState: [\r\n        {\r\n          startDate: new Date(),\r\n          endDate: addDays(new Date(), 1),\r\n          key: 'selection'\r\n        }\r\n      ],\r\n    choosenLetter: 'А',\r\n    choosenContinent: 'Европа', // Инициализирует выбранный континент\r\n    isSelectCountryInputActive: false,\r\n    choosenCountries: [],\r\n    currentPage: 1,\r\n    dataToPost: {\r\n        startDate: '',\r\n        endDate: '',\r\n        companions: 0,\r\n        text: '',\r\n        transport_choice: [],\r\n        name: '',\r\n        hashtags: [],\r\n        countries: []\r\n    },\r\n};\r\n\r\nexport const slice = {\r\n  app: NameSpace.appSlice,\r\n};\r\n\r\nexport const appSlice = createSlice({\r\n  name: slice.app,\r\n  initialState,\r\n  reducers: {\r\n   setCompanions: (state, action: PayloadAction<number>) => {\r\n    state.companions = action.payload;\r\n   },\r\n   setDuration: (state, action: PayloadAction<number>) => {\r\n    state.duration = action.payload;\r\n   },\r\n   setDateState: (state, action: PayloadAction<DateState[]>) => {\r\n    state.dateState = action.payload;\r\n   },\r\n   setLetter: (state, action: PayloadAction<string>) => {\r\n    state.choosenLetter = action.payload;\r\n   },\r\n   setContinent: (state, action: PayloadAction<string>) => { // Добавляет редуктор для установки выбранного континента\r\n    state.choosenContinent = action.payload;\r\n   },\r\n   setIsSelectCountryInputActive: (state) => {\r\n    state.isSelectCountryInputActive = !state.isSelectCountryInputActive;\r\n   },\r\n   addChoosenCountries: (state, action: PayloadAction<Country>) => {\r\n    state.choosenCountries = [...state.choosenCountries, action.payload];\r\n   },\r\n   changeChoosenCountry: (state, action: PayloadAction<CountriesToChange>) => {\r\n    const index = state.choosenCountries.findIndex(country => country.name === action.payload.currentCountry.name);\r\n    state.choosenCountries[index] = action.payload.newCountry;\r\n   },\r\n   removeChoosenCountry: (state, action: PayloadAction<Country>) => {\r\n    state.choosenCountries = state.choosenCountries.filter((country) => country.name !== action.payload.name);\r\n   },\r\n   setCurrentPage: (state, action: PayloadAction<number>) => {\r\n    state.currentPage = action.payload;\r\n   },\r\n   setDataToPostCompanions: (state, action: PayloadAction<number>) => {\r\n    state.dataToPost.companions = action.payload;\r\n   },\r\n   setDataToPostStartDate: (state, action: PayloadAction<string>) => {\r\n    state.dataToPost.startDate = action.payload;\r\n   },\r\n   setDataToPostEndDate: (state, action: PayloadAction<string>) => {\r\n    state.dataToPost.endDate = action.payload;\r\n   },\r\n   setDataToPostText: (state, action: PayloadAction<string>) => {\r\n    state.dataToPost.text = state.dataToPost.text.concat(action.payload);\r\n   },\r\n   setDataToPostTransport: (state, action: PayloadAction<string>) => {\r\n    if (state.dataToPost.transport_choice.includes(action.payload)) {\r\n        state.dataToPost.transport_choice = state.dataToPost.transport_choice.filter((transport) => transport !== action.payload);\r\n    } else {\r\n        state.dataToPost.transport_choice = [...state.dataToPost.transport_choice, action.payload];\r\n    }\r\n\r\n   },\r\n   setDataToPostHashTags: (state, action: PayloadAction<string>) => {\r\n    state.dataToPost.hashtags = action.payload.split(' ');\r\n   },\r\n   setDataToPostCountries: (state) => {\r\n    state.dataToPost.countries = state.choosenCountries.map((country) => country.name);\r\n   }\r\n  }\r\n});\r\n\r\nexport const {\r\n    setCompanions,\r\n    setDateState,\r\n    setDuration,\r\n    setLetter,\r\n    setContinent,\r\n    setIsSelectCountryInputActive,\r\n    addChoosenCountries,\r\n    changeChoosenCountry,\r\n    removeChoosenCountry,\r\n    setCurrentPage,\r\n    setDataToPostCompanions,\r\n    setDataToPostCountries,\r\n    setDataToPostText,\r\n    setDataToPostHashTags,\r\n    setDataToPostTransport\r\n} = appSlice.actions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}