{"ast":null,"code":"import{DateRange}from'react-date-range';import{addDays,addMonths,differenceInDays}from'date-fns';import'../../vendor/datepicker/datepicker.scss';import'../../vendor/datepicker/datepicker-theme.scss';import ru from\"date-fns/locale/ru\";import{useAppDispatch,useAppSelector}from\"../../../hooks/hooks\";import{setDateState}from\"../../../store/app-slice\";import{jsx as _jsx}from\"react/jsx-runtime\";function StepDates(){const dispatch=useAppDispatch();const companions=useAppSelector(state=>state.appSlice.companions);const duration=useAppSelector(state=>state.appSlice.duration);const dateState=useAppSelector(state=>state.appSlice.dateState);const onInputChange=function(event,setState,min,max){const inputTarget=event.target;if(+inputTarget.value>max){dispatch(setState(max));}else if(inputTarget.value===''||+inputTarget.value===0){dispatch(setState(0));}else{dispatch(setState(inputTarget.value));}inputTarget.focus();};const onInputBlur=function(event,setState,min){const inputTarget=event.target;if(+inputTarget.value<min){dispatch(setState(min));}};const onDateChange=function(item){const result=differenceInDays(item[0].endDate,item[0].startDate);if(result===0){dispatch(setDateState([{startDate:item[0].startDate.toString(),endDate:addDays(item[0].startDate,1),key:'selection'}]));}else if(result>31){dispatch(setDateState([{startDate:item[0].startDate.toString(),endDate:addMonths(item[0].startDate,1),key:'selection'}]));}else{dispatch(setDateState([{startDate:item[0].startDate.toString(),endDate:item[0].endDate.toString(),key:'selection'}]));}};return/*#__PURE__*/_jsx(\"section\",{className:\"step\",children:/*#__PURE__*/_jsx(\"div\",{className:\"step__content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"step__calendar\",children:/*#__PURE__*/_jsx(DateRange,{editableDateInputs:true,onChange:item=>onDateChange([item.selection]),moveRangeOnFirstSelection:false,ranges:[{startDate:new Date(dateState[0].startDate),endDate:new Date(dateState[0].endDate),key:'selection'}],weekStartsOn:1,locale:ru,weekdayDisplayFormat:window.matchMedia(\"(min-width: 768px)\").matches?\"eeeeee\":\"eeeee\",monthDisplayFormat:\"MMMM\",minDate:addDays(new Date(),0),showMonthAndYearPickers:false})})})});}export default StepDates;","map":{"version":3,"names":["DateRange","addDays","addMonths","differenceInDays","ru","useAppDispatch","useAppSelector","setDateState","jsx","_jsx","StepDates","dispatch","companions","state","appSlice","duration","dateState","onInputChange","event","setState","min","max","inputTarget","target","value","focus","onInputBlur","onDateChange","item","result","endDate","startDate","toString","key","className","children","editableDateInputs","onChange","selection","moveRangeOnFirstSelection","ranges","Date","weekStartsOn","locale","weekdayDisplayFormat","window","matchMedia","matches","monthDisplayFormat","minDate","showMonthAndYearPickers"],"sources":["C:/Стажировка/intern-pognali-2-6/my-app/src/components/blocks/calendar/calendar.tsx"],"sourcesContent":["import { DateRange } from 'react-date-range';\r\nimport { addDays, addMonths, differenceInDays } from 'date-fns';\r\nimport '../../vendor/datepicker/datepicker.scss';\r\nimport '../../vendor/datepicker/datepicker-theme.scss';\r\nimport ru from \"date-fns/locale/ru\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../hooks/hooks\";\r\nimport { setDateState } from \"../../../store/app-slice\";\r\n\r\n\r\n\r\n\r\nfunction StepDates() {\r\n\r\n  const dispatch = useAppDispatch();\r\n  const companions = useAppSelector(state => state.appSlice.companions);\r\n  const duration = useAppSelector(state => state.appSlice.duration);\r\n  const dateState = useAppSelector(state => state.appSlice.dateState);\r\n\r\n\r\n  const onInputChange = function (event: React.ChangeEvent<HTMLInputElement>, setState: any, min: number, max: number) {\r\n    const inputTarget = event.target as HTMLInputElement;\r\n    if (+inputTarget.value > max) {\r\n      dispatch(setState(max))\r\n    } else if (inputTarget.value === '' || +inputTarget.value === 0) {\r\n      dispatch(setState(0))\r\n    } else {\r\n      dispatch(setState(inputTarget.value))\r\n    }\r\n    inputTarget.focus();\r\n  }\r\n\r\n  const onInputBlur = function (event: React.ChangeEvent<HTMLInputElement>, setState: any, min: number) {\r\n    const inputTarget = event.target as HTMLInputElement;\r\n    if (+inputTarget.value < min) {\r\n      dispatch(setState(min))\r\n    }\r\n  }\r\n\r\n  const onDateChange = function (item: any) {\r\n    const result = differenceInDays(item[0].endDate, item[0].startDate);\r\n\r\n    if (result === 0) {\r\n      dispatch(setDateState([\r\n        {\r\n          startDate: item[0].startDate.toString(),\r\n          endDate: (addDays(item[0].startDate, 1)),\r\n          key: 'selection'\r\n        }\r\n      ]))\r\n    } else if (result > 31) {\r\n      dispatch(setDateState([\r\n        {\r\n          startDate: item[0].startDate.toString(),\r\n          endDate: (addMonths(item[0].startDate, 1)),\r\n          key: 'selection'\r\n        }\r\n      ]))\r\n    } else {\r\n      dispatch(setDateState([\r\n        {\r\n          startDate: item[0].startDate.toString(),\r\n          endDate: item[0].endDate.toString(),\r\n          key: 'selection'\r\n        }\r\n      ]))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"step\">\r\n      <div className=\"step__content\">\r\n        <div className=\"step__calendar\">\r\n          <DateRange\r\n            editableDateInputs={true}\r\n            onChange={(item) => onDateChange([item.selection])}\r\n            moveRangeOnFirstSelection={false}\r\n            ranges={[\r\n              {\r\n                startDate: new Date(dateState[0].startDate),\r\n                endDate: new Date(dateState[0].endDate),\r\n                key: 'selection'\r\n              }\r\n            ]}\r\n            weekStartsOn={1}\r\n            locale={ru}\r\n            weekdayDisplayFormat={window.matchMedia(\"(min-width: 768px)\").matches ? \"eeeeee\" : \"eeeee\"}\r\n            monthDisplayFormat=\"MMMM\"\r\n            minDate={addDays(new Date(), 0)}\r\n            showMonthAndYearPickers={false}\r\n          />\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default StepDates;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}